export const translations = {
  en: {
    HERMES_OPTIONS: 'Hermes Options',
    THEME_LABEL: 'Theme:',
    EXPORT_THEMES: 'Export Themes',
    IMPORT_THEMES: 'Import Themes',
    FILL: 'Fill',
    TRAIN: 'Train',
    REC: 'Rec',
    STOP: 'Stop',
    MACROS_MENU: 'Macros \u25BC',
    THEME_MENU: 'Theme \u25BC',
    FX_MENU: 'FX \u25BC',
    OVERLAY: 'Overlay',
    SETTINGS: 'Settings',
    HELP: '?',
    LOGS: 'Logs',
    ALLOWLIST: 'Allowlist',
    DEBUG: 'Debug',
    LEARN: 'Learn',
    BUNCH: 'Bunch',
    CLOSE: 'Close',
    CLEAR: 'Clear',
    HERMES_LOGS: 'Hermes Logs',
    NO_LOGS: 'No logs',
    NO_MACROS: 'No macros recorded.',
    IMPORT_MACROS: 'Import Macros...',
    EXPORT_MACROS: 'Export Macros...',
    EXPORT_ALL_MACROS: 'Export All Macros...',
    MACRO_EDITOR: 'Macro Editor',
    DELETE_MACRO_PROMPT: 'Delete "{name}"?',
    DELETE: 'Delete',
    ENABLE_AFFIRM: 'Enable Positive Affirmations',
    SCRATCH_PAD: 'Scratch Pad',
    TASKS: 'Tasks',
    TIMER: 'Timer',
    SCHEDULE: 'Schedule',
    SCHEDULE_MACROS: 'Schedule Macros',
    SELECT_MACROS: 'Select Macros',
    DATE: 'Date:',
    TIME: 'Time:',
    REPEAT: 'Repeat',
    ONCE: 'Once',
    DAILY: 'Daily',
    WEEKLY: 'Weekly',
    MONTHLY: 'Monthly',
    LOAD_ERROR: 'Error loading macros',
    RECORD_HOTKEY: 'Record Hotkey',
    PLAY_HOTKEY: 'Play Hotkey',

    START: 'Start',
    BREAK_TIME: 'Break time!',
    BACK_TO_WORK: 'Back to work!',
    NEW_TASK: 'New task... ',
    SAVE_TO_DRIVE: 'Save to Drive',
    EXPORT: 'Export',
    INVALID_JSON: 'Invalid JSON',
    OK: 'OK',
    IMPORT_FAILED: 'Import Failed',
    ALLOWED_DOMAINS: 'Allowed Domains',
    ADD: 'Add',
    ONBOARD_TITLE: 'Welcome to Hermes',
    ONBOARD_MSG: 'Use the toolbar to fill forms and record macros. Open settings with the gear icon.'
  },
  es: {
    HERMES_OPTIONS: 'Opciones de Hermes',
    THEME_LABEL: 'Tema:',
    EXPORT_THEMES: 'Exportar temas',
    IMPORT_THEMES: 'Importar temas',
    FILL: 'Rellenar',
    TRAIN: 'Entrenar',
    REC: 'Grabar',
    STOP: 'Detener',
    MACROS_MENU: 'Macros \u25BC',
    THEME_MENU: 'Tema \u25BC',
    FX_MENU: 'FX \u25BC',
    OVERLAY: 'Superposici\u00f3n',
    SETTINGS: 'Ajustes',
    HELP: '?',
    LOGS: 'Registros',
    ALLOWLIST: 'Permitir',
    DEBUG: 'Depurar',
    LEARN: 'Aprender',
    BUNCH: 'Agrupar',
    CLOSE: 'Cerrar',
    CLEAR: 'Limpiar',
    HERMES_LOGS: 'Registros de Hermes',
    NO_LOGS: 'Sin registros',
    NO_MACROS: 'No hay macros guardadas.',
    IMPORT_MACROS: 'Importar macros...',
    EXPORT_MACROS: 'Exportar macros...',
    EXPORT_ALL_MACROS: 'Exportar todas...',
    MACRO_EDITOR: 'Editor de Macros',
    DELETE_MACRO_PROMPT: '\u00bfEliminar "{name}"?',
    DELETE: 'Eliminar',
    ENABLE_AFFIRM: 'Activar afirmaciones positivas',
    SCRATCH_PAD: 'Bloc de notas',
    TASKS: 'Tareas',
    TIMER: 'Temporizador',
    SCHEDULE: 'Programar',
    SCHEDULE_MACROS: 'Programar Macros',
    SELECT_MACROS: 'Elegir Macros',
    DATE: 'Fecha:',
    TIME: 'Hora:',
    REPEAT: 'Repetir',
    ONCE: 'Una vez',
    DAILY: 'Diaria',
    WEEKLY: 'Semanal',
    MONTHLY: 'Mensual',
    LOAD_ERROR: 'Error cargando macros',
    RECORD_HOTKEY: 'Atajo para grabar',
    PLAY_HOTKEY: 'Atajo para ejecutar',

    START: 'Iniciar',
    BREAK_TIME: '\u00a1Hora de descansar!',
    BACK_TO_WORK: 'De vuelta al trabajo!',
    NEW_TASK: 'Nueva tarea... ',
    SAVE_TO_DRIVE: 'Guardar en Drive',
    EXPORT: 'Exportar',
    INVALID_JSON: 'JSON inv\u00e1lido',
    OK: 'Aceptar',
    IMPORT_FAILED: 'Fall\u00f3 la importaci\u00f3n',
    ALLOWED_DOMAINS: 'Dominios permitidos',
    ADD: 'A\u00f1adir',
    ONBOARD_TITLE: 'Bienvenido a Hermes',
    ONBOARD_MSG: 'Usa la barra para grabar macros o rellenar formularios. Abre ajustes con el icono de engranaje.'
  }
};

const navLang = typeof navigator !== 'undefined' ? navigator.language.slice(0, 2).toLowerCase() : 'en';
const lang = translations[navLang] ? navLang : 'en';

export function t(key, vars = {}) {
  const dict = translations[lang] || translations.en;
  let str = dict[key] || translations.en[key] || key;
  Object.keys(vars).forEach(k => {
    str = str.replace(new RegExp(`{${k}}`, 'g'), vars[k]);
  });
  return str;
}

if (typeof window !== 'undefined') {
  window.t = t;
}
